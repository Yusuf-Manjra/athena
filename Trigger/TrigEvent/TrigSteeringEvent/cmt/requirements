package TrigSteeringEvent

use AtlasPolicy         AtlasPolicy-*
use CLIDSvc             CLIDSvc-*                Control
use DataModel           DataModel-*              Control
use GaudiInterface      GaudiInterface-*         External
use SGTools             SGTools-*                Control
use TrigConfHLTData     TrigConfHLTData-*        Trigger/TrigConfiguration

use_ifndef pplist="XAOD_ANALYSIS" pkg="External/DataCollection"
use_ifndef pplist="XAOD_ANALYSIS" pkg="Trigger/TrigDataAccess/TrigSerializeResult"
use_ifndef pplist="XAOD_ANALYSIS" pkg="DetectorDescription/RoiDescriptor"

use xAODCore		xAODCore-*		 Event/xAOD
use AsgTools		AsgTools-*		 Control/AthToolSupport
use AthContainers	AthContainers-*		 Control

#library TrigSteeringEvent *.cxx
#apply_pattern installed_library
apply_pattern dual_use_library files="../Root/*.cxx ../src/*.cxx"

macro_prepend TrigSteeringEvent_linkopts " $(notAsNeeded_linkopt)"
macro_append  TrigSteeringEvent_linkopts " $(asNeeded_linkopt)"

use AthenaKernel        AthenaKernel-*           Control

private
use xAODTrigger         xAODTrigger-*            Event/xAOD 
use AtlasReflex         AtlasReflex-*            External -no_auto_import
use_ifndef pplist="XAOD_ANALYSIS" pkg="Trigger/TrigDataAccess/TrigSerializeUtils"
use_ifndef pplist="XAOD_ANALYSIS" pkg="Trigger/TrigT1/TrigT1Interfaces"
use_ifndef pplist="XAOD_ANALYSIS" pkg="Trigger/TrigEvent/TrigNavigation"


pattern apply_tag_ifAnalysisBase \
   macro <package>_check_statement "`echo $(pp_cppflags)|grep -q XAOD_ANALYSIS &&echo ISATHANALYSISBASE||echo ISNOTISATHANALYSISBASE`" ; \
   apply_tag $(<package>_check_statement)

apply_tag_ifAnalysisBase

pattern dummypattern \
  macro dummymacro "dummyvalue_<selectionfile>_<dict>_<headerfiles>_<dataLinks>_<files>_<typesWithNamespace>"

macro dictpatternname			"lcgdict" \
		      ISATHANALYSISBASE		"dummypattern"

macro sercnvpatternname			"sercnv" \
		      ISATHANALYSISBASE	"dummypattern"
      		  

apply_pattern $(dictpatternname) dict=TrigSteeringEvent selectionfile="selection.xml" \
        headerfiles="../TrigSteeringEvent/TrigSteeringEventDict.h" \
        dataLinks="TrigRoiDescriptor TrigSuperRoi"

apply_pattern $(sercnvpatternname) typesWithNamespace="LVL1::RecJetRoI LVL1::RecJetEtRoI LVL1::RecEmTauRoI LVL1::RecEnergyRoI LVL1::RecMuonRoI \
	      			   	xAOD::TrigCompositeContainer xAOD::TrigCompositeAuxContainer" \
                                         files="-s=${TrigSteeringEvent_root}/TrigSteeringEvent TrigRoiDescriptor.h TrigSuperRoi.h \
                                         TrigPassFlags.h  TrigPassFlagsCollection.h \
                                         TrigRoiDescriptorCollection.h\
                                         TrigSuperRoiCollection.h\
                                         TrigOperationalInfo.h TrigOperationalInfoCollection.h \
                                         TrigPassBits.h TrigPassBitsCollection.h \
                                         -s=${TrigT1Interfaces_root}/TrigT1Interfaces RecJetRoI.h RecEmTauRoI.h \
                                         RecEnergyRoI.h RecJetEtRoI.h RecMuonRoI.h \
					 -s=${xAODTrigger_root}/xAODTrigger TrigCompositeContainer.h TrigCompositeAuxContainer.h"

apply_pattern sercnv \
libtag="xAOD" \
typesWithNamespace="xAOD::TrigPassBits xAOD::TrigPassBitsContainer xAOD::TrigPassBitsAuxContainer" \
files="-s=${xAODTrigger_root}/xAODTrigger TrigPassBitsContainer.h TrigPassBitsAuxContainer.h"


use TestTools      TestTools-*         AtlasTest
apply_pattern UnitTest_run unit_test=Enums extrapatterns=".*"
apply_pattern UnitTest_run unit_test=Operators extrapatterns=".*"
apply_pattern UnitTest_run unit_test=Truncation extrapatterns=".*"
apply_pattern UnitTest_run unit_test=TrigPassBits extrapatterns=".*"
apply_pattern UnitTest_run unit_test=HLTExtraData extrapatterns=".*"



#macro cppdebugflags '$(cppdebugflags_s)'
#macro_remove componentshr_linkopts "-Wl,-s"


end_private
