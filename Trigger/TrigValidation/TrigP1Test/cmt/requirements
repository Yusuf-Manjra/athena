package TrigP1Test

use AtlasPolicy 		AtlasPolicy-*
use RunTimeTester		RunTimeTester-*		Tools			-no_auto_imports
use TestPolicy          	TestPolicy-*
use TrigValTools                TrigValTools-*          Trigger/TrigValidation	-no_auto_imports

apply_pattern declare_joboptions files="*.py"
apply_pattern declare_python_modules files="*.py"

apply_pattern declare_scripts files="../share/*.sh \
                                     ../share/testMonHistOH.py \
                                     ../share/part_lhl2ef_fix.py \
                                     ../share/setMagFieldCurrents.py \
                                     ../share/part_get_runnumber.py \
                                     ../Testing/*.sh \
                                     ../Testing/splitlog.py"



# RTT declarations
apply_pattern declare_runtime extras="../test/TrigP1Test_TestConfiguration.xml ../Testing/*.conf \ 
                                      ../Testing/*.trans \
                                      ../python/RunMsgFinder.py \
                                      ../python/RttScriptRunner.py \
                                      ../python/RootComp.py \
                                      ../python/RegTest.py \
                                      ../python/CheckLog.py \
                                      ../python/CheckStatusCode.py \
				      ../python/LogTail.py \
                                      ../python/DeleteRaw.py \
                                      ../python/TruncateLog.py"


macro TrigP1Test_TestConfiguration "../test/TrigP1Test_TestConfiguration.xml"

#
# Run test auto-configuration script
# This will create TrigP1Test_TestConfiguration.xml file
#
action test-auto-conf "test-xml-autoconf.py ../test/TrigP1Test_TestConfiguration.xml.autoconf > ../test/TrigP1Test_TestConfiguration.xml"
macro_append constituents " test-auto-conf"
macro_append install_runtime_dependencies " test-auto-conf"

private

#add validation of RTT xml file
use TestPolicy TestPolicy-*
apply_pattern validate_xml
macro_append TrigP1Test_validateXML_dependencies " test-auto-conf "

end_private

