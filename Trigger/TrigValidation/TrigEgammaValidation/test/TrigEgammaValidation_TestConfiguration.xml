<?xml version="1.0"?>
<!DOCTYPE unifiedTestConfiguration SYSTEM "http://www.hep.ucl.ac.uk/atlas/AtlasTesting/DTD/unifiedTestConfiguration.dtd">

<unifiedTestConfiguration>
  <atn>
     <TEST name="HelloWorld" type="athena" suite="Examples">
        <options_atn>AthExHelloWorld/HelloWorld_ATN.py</options_atn>
        <timelimit>2</timelimit>
        <author> Giuseppe Lerner </author>
        <mailto> giuseppe.lerner@cern.ch </mailto>
        <expectations>
           <errorMessage>FAILURE (ERROR)</errorMessage>
           <successMessage>FATAL A FATAL</successMessage>
           <returnValue>0</returnValue>
        </expectations>
     </TEST>
   </atn>
   <kv/>
   <rtt xmlns="http://www.hep.ucl.ac.uk/atlas/AtlasTesting/rtt">

      <rttContactPerson> Giuseppe Lerner </rttContactPerson>
      <mailto> giuseppe.lerner@cern.ch </mailto>
      <refRelease>21.1.0</refRelease>
      
      <jobList>

      <classification>
         <displayClass>OfflineValidation</displayClass>
         <displayProcess>Core</displayProcess>
         <displayComponent>Athena-Core</displayComponent>
      </classification>

         <athena userJobId="helloworld">
            <doc> Run Athena HelloWorld example </doc>
            <options>AthExHelloWorld/HelloWorldOptions</options>
            <package>Control/AthenaExamples/AthExHelloWorld</package>
            <group>HelloWorld</group>
            <queue>short</queue>
         </athena>

      <chain>
         <chainName> TrigEgammaValidationChain </chainName>
          <sequential>

           <chainElement>
            <jobTransform userJobId="RDOtoAOD_MC_transform">
                <doc> RDOtoAOD_MC_transform Physics_pp_v5 menu Zee events </doc>  
                <jobTransformJobName> RDOtoAOD_MC_transform </jobTransformJobName>
                <jobTransformCmd> 
                athena.py -c 'from AthenaCommon.AthenaCommonFlags import athenaCommonFlags as acf;acf.EvtMax.set_Value_and_Lock(500);acf.FilesInput=["root://eosatlas//eos/atlas/atlascerngroupdisk/trig-daq/egamma/valid1.147406.PowhegPythia8_AZNLO_Zee.recon.RDO.e3099_s1982_s1964_r6067_tid04771185_00/RDO.04771185._000014.pool.root.1"];menu="MC_pp_v5"' TrigEgammaValidation/testAthenaTrigEgammaZeeRDOtoAOD.py
                </jobTransformCmd>
              <group>HelloWorld</group>
              <queue>long</queue>
            </jobTransform>
            <chainfileout>AOD.pool.root</chainfileout>
           </chainElement>

           <chainElement>
            <jobTransform userJobId="AOD_TrigEgammaAnalysisTools">
                <doc> TrigEgammaAnalysisTools on Zee events </doc>  
                <jobTransformJobName> AOD_TrigEgammaAnalysisTools_transform </jobTransformJobName>
                <jobTransformCmd> 
                athena.py -c "FILE='AOD.pool.root';" TrigEgammaValidation/testNavZeeTPExample.py
                </jobTransformCmd>
                <group>HelloWorld</group>
                <chaindataset_info>
                  <jobTransformData />
                    <chaindatasetName>AOD.pool.root</chaindatasetName>
                      <dataset_info>
                       <dc2/>
                        <datasetName>/eos/atlas/user/atlascerngroupdisk/trig-daq/egamma/AOD_backup_11events.root</datasetName>
                    </dataset_info>
                  </chaindataset_info>
                <queue>long</queue>
            </jobTransform>
           </chainElement>        


         </sequential>
       </chain>          
	 
      </jobList>

      <jobGroups>
         <jobGroup name="AthenaHelloWorld" parent="Athena">
            <keepFilePattern info="POOL files">*.root</keepFilePattern>
            <keepFilePattern info="txt files">*.txt</keepFilePattern>
         </jobGroup>
      </jobGroups>
   </rtt>
</unifiedTestConfiguration>

