<?xml version="1.0"?> 
<!DOCTYPE unifiedTestConfiguration SYSTEM "http://www.hep.ucl.ac.uk/atlas/AtlasTesting/DTD/unifiedTestConfiguration.dtd"> 
<!-- NB validate this file here before commiting to svn:
 
 python /afs/cern.ch/user/r/rtt/public/validateXML.py TrigHLTJetRec_TestConfiguration.xml
 
 see: http://www.hep.ucl.ac.uk/atlas/AtlasTesting/DTD/onlineValidation/validator.html
 
 -->

<unifiedTestConfiguration>    
    
    <!-- RTT tests -->
    <rtt xmlns="http://www.hep.ucl.ac.uk/atlas/AtlasTesting/rtt">
        
        <rttContactPerson>Valentinos Christodoulou (valentinos.christodoulou@cern.ch)</rttContactPerson>
        
        <jobList>
                    
            <athena userJobId="Jet" doMonitoring="True">
                <doc>
                    Runs Jet signature on ttbar RDO 
                </doc>
                <displayName>Jet</displayName>
                <commandLineFlags>
                    enableCostMonitoring=TRUE;RunningRTT=TRUE;menu='MC_pp_v5'; sliceName='jet';jp.AthenaCommonFlags.EvtMax.set_Value_and_Lock(1000);jp.Rec.OutputLevel=WARNING;LVL1OutputLevel=WARNING;HLTOutputLevel=WARNING;dsName='/eos/atlas/atlascerngroupdisk/trig-daq/validation/test_data/mc12_8TeV.105200.McAtNloJimmy_CT10_ttbar_LeptonFilter.digit.RDO.e1513_s1499_s1504_d700_tid01177880_00';fileRange=[1,20]
                </commandLineFlags>
                <options>TriggerTest/testCommonSliceAthenaTrigRDO.py</options>
                <package>Trigger/TrigValidation/TriggerTest</package>
                <group>TriggerTestMonitorHistos</group>
                <queue>long</queue>
                <alwaysRunPostProc /> 
            </athena>
            
        </jobList>
                
        <jobGroups>
            <jobGroup name="AthenaTriggerTestMonitorHistos" parent="Athena">
                <keepFilePattern info="Log files" displayColor="red">*.txt</keepFilePattern>
                <keepFilePattern info="Test log file" displayColor="blue">*test*.log</keepFilePattern>
                <keepFilePattern info="Action log file" displayColor="blue">*action*.log</keepFilePattern>
                <keepFilePattern info="Monitoring histograms">*-monitoring.root</keepFilePattern>
                <keepFilePattern info="Timing histograms">timing-histograms.root</keepFilePattern>
                <keepFilePattern info="checkfilelog">*checkFile*</keepFilePattern>
                <keepFilePattern info="PerfMon ntuple">*.pmon.gz</keepFilePattern>
                <keepFilePattern info="PerfMon Hephaestus file">*.heph.log</keepFilePattern>
                <keepFilePattern info="PerfMon xml">*.xml</keepFilePattern>
                <keepFilePattern info="POOL files">*.pool.root</keepFilePattern>
                <keepFilePattern info="GIF files">*.gif</keepFilePattern>
                <keepFilePattern info="PDF files">*.pdf</keepFilePattern>
                <keepFilePattern info="ROOT files">*.root</keepFilePattern> 
                <keepFilePattern info="ROOT macros">*.C</keepFilePattern>
                <keepFilePattern info="ROOT macros">*.cxx</keepFilePattern>
                <keepFilePattern info="Bytestream files">*.data</keepFilePattern>
                <keepFilePattern info="Bytestream files">*.php</keepFilePattern>
                <keepFilePattern info="igprof files"> igprof.*.gz</keepFilePattern>
                <keepFilePattern info="igprof files"> cgi-bin/data/*.sql3</keepFilePattern>
                <keepFilePattern info="igprof files"> cgi-bin/igprof-navigator</keepFilePattern>
                <keepFilePattern info="TrigCostMon files"> costMonitoring*/* </keepFilePattern>                             
                
                <auxFilePattern>plotDecision.cxx</auxFilePattern>
                <auxFilePattern>checklogTriggerTest.conf</auxFilePattern>
                <auxFilePattern>HLTChain_ref.txt</auxFilePattern>
                <auxFilePattern>HLTTE_ref.txt</auxFilePattern>
                
                <test position="1">
                    <modulename>chainDump</modulename>
                    <testname>chainDump</testname>
                    <arg>
                        <argname>rootFile</argname>
                        <argvalue>expert-monitoring.root</argvalue>
                    </arg>
                </test>
                
                <test position="2">
                    <modulename>RttLibraryTools</modulename>
                    <testname>PerfMonRunner</testname>
                    <testidentifier>PerfMonRunner</testidentifier>
                    <arg>
                        <argname>fileName</argname>
                        <argvalue>ntuple.pmon.gz</argvalue>
                    </arg>
                    <arg>
                        <argname>options</argname>
                        <argvalue>-f 0.90</argvalue>
                    </arg>	
                </test>
                
                <test position="3">
                    <modulename>CheckLog_TriggerTest</modulename>
                    <testname>CheckLog_TriggerTest</testname>
                    <arg>
                        <argname>command</argname>
                        <argvalue>check_log.pl --config checklogTriggerTest.conf %JOBLOG</argvalue>
                    </arg>
                </test>
                
                <test position="4">
                    <modulename>LogTail_TriggerTest</modulename>
                    <testname>LogTail_TriggerTest</testname>
                    <arg>
                        <argname>command</argname>
                        <argvalue>tail -10000 %JOBLOG >%JOBLOG.tail.txt</argvalue>
                    </arg>
                </test>

                <test position="5">
                    <modulename>RttLibraryTools</modulename>
                    <testname>FileComparatorRunner</testname>
                    <arg>
                        <argname>testFile</argname>
                        <argvalue>HLTChain.txt</argvalue>
                    </arg>
                    <arg>
                        <argname>refFile</argname>
                        <argvalue>HLTChain_ref.txt</argvalue>
                    </arg>
                </test>

                <test position="6">
                    <modulename>RttLibraryTools</modulename>
                    <testname>FileComparatorRunner</testname>
                    <arg>
                        <argname>testFile</argname>
                        <argvalue>HLTTE.txt</argvalue>
                    </arg>
                    <arg>
                        <argname>refFile</argname>
                        <argvalue>HLTTE_ref.txt</argvalue>
                    </arg>
                </test>   
                
                <testToRemove>
                    <jobGroupName>RTT:Top</jobGroupName>
                    <testidentifier>CheckFileRunner0</testidentifier>
                </testToRemove>
                
                <testToRemove>
                    <jobGroupName>RTT:Top</jobGroupName>
                    <testidentifier>PerfMonDozer0</testidentifier>
                </testToRemove>
                
            </jobGroup>
        </jobGroups>
    </rtt>
</unifiedTestConfiguration>
