<?xml version="1.0"?>

<unifiedTestConfiguration>
    <atn>
        <TEST name="RECOSHIFT_rdo2esd2aod" type="script" suite="athenamp">
            <package_atn>AtlasTest/AthenaMPTest</package_atn>
            <options_atn>TRF_ECHO=1 Reco_tf.py '--athenaopts=--nprocs=2' '--inputRDOFile' '/afs/cern.ch/atlas/project/rig/referencefiles/MC/valid1.105200.T1_McAtNlo_Jimmy.digit.RDO.e835_s1256_s1258_d566_tid464353_00/RDO.464353._000001.pool.root.1' '--outputESDFile' 'ESD.pool.root' '--outputAODFile' 'AOD.pool.root' '--outputHISTFile' 'Mon.root' '--autoConfiguration' 'everything' '--maxEvents=4' '--preExec' 'from AthenaMP.AthenaMPFlags import jobproperties as jps' 'jps.AthenaMPFlags.CollectSubprocessLogs=True' </options_atn>
            <timelimit>90</timelimit>
            <author> Vakho Tsulaia </author>
            <mailto> tsulaia@cern.ch  </mailto>
            <prescript>rm -f $ATN_WORK_AREA/*; env > env.txt</prescript>
            <expectations>
                <errorMessage>ERROR</errorMessage>
                <returnValue>0</returnValue>
            </expectations>
        </TEST>
        
        <TEST name="SharedPoolReader" type="script" suite="athenamp">
            <package_atn>AtlasTest/AthenaMPTest</package_atn>
	    <options_atn>TRF_ECHO=1 Reco_tf.py '--athenaopts=--nprocs=2' '--inputRDOFile' '/afs/cern.ch/atlas/project/rig/referencefiles/MC/valid1.105200.T1_McAtNlo_Jimmy.digit.RDO.e835_s1256_s1258_d566_tid464353_00/RDO.464353._000001.pool.root.1' '--outputESDFile' 'ESD.pool.root' '--autoConfiguration' 'everything' '--maxEvents=4' '--preExec' 'from AthenaMP.AthenaMPFlags import jobproperties as jps' 'jps.AthenaMPFlags.CollectSubprocessLogs=True' 'jps.AthenaMPFlags.Strategy="SharedReader"'</options_atn>
            <timelimit>90</timelimit>
            <author> Vakho Tsulaia </author>
            <mailto> tsulaia@cern.ch  </mailto>
            <prescript>rm -f $ATN_WORK_AREA/*; env > env.txt</prescript>
            <expectations>
                <errorMessage>ERROR</errorMessage>
                <returnValue>0</returnValue>
            </expectations>
            <nightly_exclude>17.7.NEW.Y-VAL</nightly_exclude>
        </TEST>

        <TEST name="RECOSHIFT_RAWtoESD" type="script" suite="athenamp">
            <package_atn>AtlasTest/AthenaMPTest</package_atn>
            <options_atn>TRF_ECHO=1 RAWtoESD_tf.py '--inputBSFile' '/afs/cern.ch/atlas/project/rig/referencefiles/dataStreams_10Events/data10_7TeV.00167607.physics_JetTauEtmiss.merge.RAW._lb0087._SFO-4._0001.1_10events' '--maxEvents' '4' '--outputESDFile' 'myESD.pool.root' '--athenaopts=--nprocs=2' '--preExec' 'from AthenaMP.AthenaMPFlags import jobproperties as jps' 'jps.AthenaMPFlags.CollectSubprocessLogs=True' </options_atn>
            <timelimit>90</timelimit>
            <author> Vakho Tsulaia </author>
            <mailto> tsulaia@cern.ch  </mailto>
            <prescript>rm -f $ATN_WORK_AREA/*; env > env.txt</prescript>
            <expectations>
                <errorMessage>ERROR</errorMessage>
                <returnValue>0</returnValue>
            </expectations>
        </TEST>
    </atn>

</unifiedTestConfiguration>
