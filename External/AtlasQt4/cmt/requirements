package AtlasQt4
author  Sebastien Binet <binet@cern.ch>

use ExternalPolicy 	ExternalPolicy-*	External
use Qt              *                   LCG_Interfaces


macro AtlasQt4_native_version "$(Qt_native_version)"
macro AtlasQt4_home           "$(Qt_home)"

# for bwd compat
macro      Qt4_native_version "$(AtlasQt4_native_version)"
macro      Qt4_home           "$(AtlasQt4_home)"
# --

include_path none

path_remove  DYLD_LIBRARY_PATH "/qt/4"
path_prepend DYLD_LIBRARY_PATH "$(AtlasQt4_home)/lib"

macro AtlasQt4_linkopts " -L$(AtlasQt4_home)/lib "
macro_append cppflags "" \
            target-gcc47&debug  " -fpermissive " \
            target-gcc48&debug  " -fpermissive "

macro_append AtlasQt4_linkopts "" Qt4CoreLib    " -lQtCore"
macro_append AtlasQt4_linkopts "" Qt4QuiLib     " -lQtGui"
macro_append AtlasQt4_linkopts "" Qt4NetworkLib " -lQtNetwork"
macro_append AtlasQt4_linkopts "" Qt4OpenGLLib  " -lQtOpenGL"
macro_append AtlasQt4_linkopts "" Qt4SqlLib     " -lQtSql"
macro_append AtlasQt4_linkopts "" Qt4SvgLib     " -lQtSvg"
macro_append AtlasQt4_linkopts "" Qt4XmlLib     " -lQtXml"

macro AtlasQt4_export_paths "$(AtlasQt4_home)"

private

# This is necessary in order to override the symlinks in the LCGCMT InstallArea.
apply_pattern declare_installed_libraries dir=$(AtlasQt4_home)/lib
apply_pattern generic_declare_for_link files='-s=$(AtlasQt4_home)/bin *' prefix=${CMTCONFIG}/bin

end_private

