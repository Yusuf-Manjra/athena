package Lhapdf
## This requirements file is for LHAPDF 6.x

author Andy Buckley <andy.buckley@cern.ch>

use AtlasPolicy AtlasPolicy-*
use AtlasExternalArea AtlasExternalArea-* External
use LCG_Configuration
#private
#macro LCG_config_version "67c"
#end_private
#macro Genser_home "$(LCG_external)/MCGenerators_lcgcmt$(LCG_config_version)"
macro Genser_home "$(LCG_external)/MCGenerators"
macro Lhapdf_home "$(Genser_home)/lhapdf"
macro Lhapdf_version "6.1.5"
macro Lhapdf_native_version "$(Lhapdf_version)_lcgcmt$(LCG_config_version)"
macro Lhapdf_system "$(LCG_ext_system)"
macro Lhapdf_dir "$(Lhapdf_home)/$(Lhapdf_version)/$(Lhapdf_system)"
macro Lhapdf_bin "$(Lhapdf_dir)/bin"
macro Lhapdf_python "$(Lhapdf_dir)/lib/python${Python_version}/site-packages"
macro Lhapdf_datadir "$(Lhapdf_dir)/share/LHAPDF"
macro Lhapdf_linkopts " -L$(Lhapdf_dir)/lib -lLHAPDF "
macro Lhapdf_setsdir "$(LCG_ROOT)/external/lhapdfsets/current/"

## Headers and C++/Fortran libs
include_path none
include_dirs "$(Lhapdf_dir)/include"
macro_append Lhapdf_export_paths " $(Lhapdf_dir)/include $(Lhapdf_dir)/lib $(Lhapdf_dir)/bin "
apply_pattern declare_installed_libraries dir="$(Lhapdf_dir)/lib"

## Install scripts
apply_pattern declare_scripts files=" -s=$(Lhapdf_bin) lhapdf"
path_prepend PATH "$(Lhapdf_bin)"

## Install Python modules
apply_pattern generic_declare_for_link kind=python_modules \
  files='-s=$(Lhapdf_python) * *.py *.so' prefix="$(CMTCONFIG)/lib/python$(Python_version)" name=lhapdf_pymodules
path_prepend PYTHONPATH "$(Lhapdf_python)"

# The "current" PDF data should not significantly change, but an ATLAS-specific
# versioned (and maintained) collection of standard PDFs is probably needed.
macro_append Lhapdf_export_paths "$(Lhapdf_datadir)/lhapdf.conf "
macro_append Lhapdf_export_paths "$(Lhapdf_setsdir)/pdfsets.index "
macro_append Lhapdf_export_paths "$(Lhapdf_setsdir)/CT10 "
macro_append Lhapdf_export_paths "$(Lhapdf_setsdir)/CT10nlo "
macro_append Lhapdf_export_paths "$(Lhapdf_setsdir)/cteq6l1 "
macro_append Lhapdf_export_paths "$(Lhapdf_setsdir)/MSTW2008lo68cl "
macro_append Lhapdf_export_paths "$(Lhapdf_setsdir)/MSTW2008nlo68cl "
macro_append Lhapdf_export_paths "$(Lhapdf_setsdir)/NNPDF30_nlo_as_0118 "
macro_append Lhapdf_export_paths "$(Lhapdf_setsdir)/NNPDF23_lo_as_0130_qed "
macro_append Lhapdf_export_paths "$(Lhapdf_setsdir)/MRSTMCal "
#macro_append Lhapdf_export_paths "$(Lhapdf_setsdir)/HERAPDF15NLO_EIG "
#macro_append Lhapdf_export_paths "$(Lhapdf_setsdir)/HERAPDF15NLO_VAR "
#macro_append Lhapdf_export_paths "$(Lhapdf_setsdir)/HERAPDF15NLO_ALPHAS "

set LHAPDF_DATA_PATH "$(Lhapdf_datadir):$(Lhapdf_setsdir)"
set LHAPATH "$(LHAPDF_DATA_PATH)"
