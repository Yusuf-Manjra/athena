<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">

<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">  
<meta name="GENERATOR" content="Mozilla/4.77 [en] (X11; U; Linux 2.4.0 i686) [Netscape]"><title>Java Configuration in Atlas</title>
<link rel="shortcut icon" href="Java.png">
<link rel="author" href="mailto:Julius.Hrivnac@cern.ch">
<link rel="bookmark" title="Java Links" href="http://hrivnac.home.cern.ch/hrivnac/Links/Computing/Java/index.html">  
<link rel="others" title="Overview" href="index.html">
<link rel="others" title="Details" href="detailed.html">
<link rel="others" title="Configuration" href="config.html">
<link rel="others" title="Build Java with Ant" href="withAnt.html">
</head>

<body bgcolor="#ffff66">

<h1>How to configure Atlas Java package with Cmt</h1>

Basic configuration of Java packages is handled directly by Cmt.
<a href="withAnt.html">Ant Cmt interface</a> 
can be used for more sophisticated configuration.

<h3>Put all your class hierarchy into directory <tt>src</tt></h3>

<h3>Write requirements file</h3>
<table bgcolor="#ffffcf"><tbody><tr><td><pre>
package MyPackage

# Setup Java
use JavaSDK JavaSDK-XX-* External

# Copy aux files
document installer images net/hep/atlas/MyPackage/images/*.gif \
   install_dir=../classes/net/hep/atlas/MyPackage/images/

# Define target library
library MyJarFile net/hep/atlas/MyPackage/*.java \
                  net/hep/atlas/MyPackage/images/*.gif \
                  net/hep/atlas/MyPackage/Test/*.java

# Export CLASSPATH
path_remove CLASSPATH "/MyPackage/"
path_append CLASSPATH "${MYPACKAGEROOT}/classes/MyPackage.jar"

# Define application
alias mypackage "java net.hep.atlas.MyPackage.Main"

# Define additional package and global Java run options
macro MyPackage_run_options MyOptions1
macro java_run_options      MyOptions2

private

# Reset CLASSPATH
path_remove  CLASSPATH "/MyPackage/" 
path_prepend CLASSPATH "$(src)"
path_prepend CLASSPATH "${MYPACKAGEROOT}/classes"

# Test
application net.hep.atlas.MyPackage.Test.Test -check net/hep/atlas/MyPackage/Test/Test.java
macro       net.hep.atlas.MyPackage.Test.Test_check_args MyArguments
macro       net.hep.atlas.MyPackage.Test.Test_pre_check "rm -f MyResults"
</pre></td></tr></tbody></table>

<h3>Check results</h3>
<ul>
<li>classes/MyPackage.jar</li>
<li>doc/JavaDoc</li>
</ul>

<center><hr noshade="" width="100%"></center>

<address> <a href="http://hrivnac.home.cern.ch/hrivnac">J.Hrivnac</a>, Jun'03</address>

</body>

</html>
