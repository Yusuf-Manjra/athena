package StoreGate

author Paolo Calafiura   <Paolo.Calafiura@cern.ch>
author Hong Ma           <hma@bnl.gov>
author Srini Rajagopalan <srinir@bnl.gov>
author Wim Lavrijsen     <WLavrijsen@lbl.gov>

use AtlasPolicy    AtlasPolicy-*

use CxxUtils       CxxUtils-*          Control
use AthenaKernel   AthenaKernel-*      Control
#need ClassID_traits.h, CLASS_DEF.h
use SGTools 	   SGTools-*           Control

use AtlasBoost     AtlasBoost-*     External
use GaudiInterface GaudiInterface-* External 

use AthAllocators  AthAllocators-*     Control
use AthContainersInterfaces AthContainersInterfaces-* Control

private
end_private

apply_pattern dual_use_library files=*.cxx

macro_append cppflags ""    \
  gcc-3 " -DHAVE_ITERATOR -DHAVE_NEW_IOSTREAMS "

private 

apply_pattern install_runtime
apply_pattern declare_joboptions files="StoreGate_jobOptions.txt StoreGate_jobOptions.py "
apply_pattern declare_python_modules files="*.py"

macro_append SGtests_dependencies "StoreGateLib"

use TestTools      TestTools-*        AtlasTest 
library SGtests ../test/SGtests.cxx
macro SGtests_shlibflags " $(componentshr_linkopts) $(use_linkopts) " 
 
apply_pattern UnitTest_run unit_test=VarHandles extrapatterns="ClassIDSvc Initialized successfully|^HistogramPersis.* INFO"
apply_pattern UnitTest_run unit_test=DataHandle extrapatterns="ClassIDSvc Initialized successfully|^HistogramPersis.* INFO"
apply_pattern UnitTest_run unit_test=SGIterator extrapatterns="^HistogramPersis.* INFO"
apply_pattern UnitTest_run unit_test=KeyConcept
apply_pattern UnitTest_run unit_test=StoreClearedIncident
apply_pattern UnitTest_run unit_test=SegMemSvc extrapatterns="^HistogramPersis.* INFO"

macro_append DOXYGEN_INPUT " ../test" 
macro_append DOXYGEN_FILE_PATTERNS    " *.icc"

end_private
