package PileupReweighting

author Will Buttinger <will@cern.ch>

## For Athena policies: it has to be the first use statement
use AtlasPolicy                 AtlasPolicy-*
use AtlasROOT                   AtlasROOT-*             External
use GaudiInterface              GaudiInterface-*        External
use AsgTools        AsgTools-*        Control/AthToolSupport
use xAODEventInfo xAODEventInfo-*   Event/xAOD

use PATInterfaces  PATInterfaces-*  PhysicsAnalysis/AnalysisCommon

private 
use PathResolver PathResolver-*     Tools
use AthenaBaseComps AthenaBaseComps-* Control
end_private




## macros   
apply_tag       ROOTBasicLibs
apply_tag       ROOTMathLibs

apply_tag       ROOTCintexLibs

# Specify the required ROOT components for cmake (transparent to CMT)
apply_pattern cmake_add_command command="find_package(ROOT COMPONENTS MathCore RIO)"

## declare the directories CMT should know about
branches python share doc src Root


library PileupReweightingLib "../Root/*.cxx"
apply_pattern named_installed_library library=PileupReweightingLib

macro extra_in "" AthAnalysisBase "-DXAOD_ANALYSIS"
apply_pattern have_root_headers     root_headers="TPileupReweighting.h ../Root/LinkDef.h"    headers_lib="PileupReweightingLib" extra_includes="$(extra_in)  "

library PileupReweighting *.cxx -s=components *.cxx
macro_append PileupReweighting_dependencies " PileupReweightingLib"
apply_pattern component_library

#apply_pattern dual_use_library files=" *.cxx ../Root/*.cxx"


private
use     AtlasReflex     AtlasReflex-*   External -no_auto_imports
apply_pattern lcgdict dict=PileupReweighting selectionfile=selection.xml headerfiles="../PileupReweighting/PileupReweightingDict.h"
end_private


## install our python modules
apply_pattern declare_python_modules files="*.py"

## install our job options files
apply_pattern declare_joboptions files="*.py"

## install default config file
#apply_pattern declare_runtime files="*.root"

#apply_pattern generic_declare_for_link files="../share/*.root" prefix="share/atlasoff/PhysicsAnalysis/AnalysisCommon/$(package)/$(version)" 

#apply_pattern declare_calib files="../share/data" #example of how to share a whole folder

apply_pattern declare_calib files="../share/*.root"



application testPRW testPRW.C
#ensure the main library is compiled first
macro_append testPRW_dependencies " PileupReweighting "
